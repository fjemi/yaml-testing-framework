todo:
- TODO: Incorporate the numeric id generated when collating tests ex. 0.1.1 with get_id function
- TODO: Pass excluded functions and modules to coverage
- TODO: Move some logic to plugin.py so that all that is needed is to import function test_


globals:
  exclude_functions:
  - test_
  resources:
  - ${ROOT_DIR}/assertions/app.py


tests:
- function: get_ids
  description: >
    Returns the id for a test or creates one if the id does not exist.
  cast_arguments:
  - field: test
    caster: test_resources.test_entrypoint.app.test_resource
  tests:
  - arguments:
      test:
        id_short: null
    assertions:
    - method: assertions.app.assert_equals
      expected: test_1
  - arguments:
      test:
        id_short: id_short
    assertions:
    - method: assertions.app.assert_equals
      expected: id_short
  - patches:
    - name: UNNAMED_TEST_COUNT
      value: 1
      method: value
    arguments:
      test:
        id_short: null
    assertions:
    - method: assertions.app.assert_equals
      expected: test_2
  - patches:
    - name: UNNAMED_TEST_COUNT
      value: 3
      method: value
    arguments:
      test:
        id_short: null
    assertions:
    - method: assertions.app.assert_equals
      expected: test_4
